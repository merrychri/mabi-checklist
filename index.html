<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>오늘의 물물교환 체크리스트</title>
  <style>
    @font-face {
    font-family: 'SacheonUniverse';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2506-1@1.0/SacheonUju-Regular.woff2') format('woff2');
    font-weight: normal;
    font-display: swap;
}
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: #f9f1f5;
      margin: 0;
      padding: 30px;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      padding: 30px;
    }
    h1 {
      text-align: center;
      font-size: 1.8em;
      margin-bottom: 5px;
     font-family: 'SacheonUniverse', sans-serif;
    }
    .subtext {
      text-align: center;
      font-size: 0.9em;
      color: #666;
      margin-bottom: 20px;
    }
    .category-buttons {
      text-align: center;
      margin-bottom: 20px;
    }
    .category-buttons button {
      margin: 0 5px;
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      background: #eee;
      cursor: pointer;
    }
    .category-buttons button.active {
      background: #fcd9a0;
      font-weight: bold;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      table-layout: fixed;
    }
    th:nth-child(1), td:nth-child(1) { width: 30%; }
    th:nth-child(2), td:nth-child(2) { width: 30%; }
    th:nth-child(3), td:nth-child(3) { width: 20%; }
    th:nth-child(4), td:nth-child(4) { width: 20%; }
    th, td {
      padding: 8px;
      border-bottom: 1px solid #eee;
      text-align: left;
      font-size: 0.95em;
    }
    input[type="checkbox"] {
      transform: scale(1.2);
      cursor: pointer;
    }
    .category-section {
      margin-bottom: 40px;
    }
    .checked-row td {
      background-color: #f0f0f0;
      text-decoration: line-through;
      color: #999;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>📋 오늘의 물물교환 체크리스트</h1>
    <div class="subtext">* 매일 오전 6시에 자동으로 리셋됩니다.</div>

    <div class="category-buttons" id="categoryButtons">
      <button onclick="filterCategory('전체')" class="active">전체</button>
      <button onclick="filterCategory('티르코네일')">티르코네일</button><button onclick="filterCategory('던바튼')">던바튼</button><button onclick="filterCategory('두갈드아일')">두갈드아일</button><button onclick="filterCategory('가이레흐 언덕')">가이레흐 언덕</button><button onclick="filterCategory('반호르')">반호르</button>
    </div>

    
    <div class="category-section" data-category="티르코네일">
      <h3>🤍 티르코네일</h3>
      <table>
        <thead>
          <tr>
            <th>주는 물품</th>
            <th>받는 물품</th>
            <th>제한</th>
            <th>교환</th>
          </tr>
        </thead>
        <tbody>
    
          <tr class="" data-category="티르코네일">
            <td>케이틴 특제 통밀빵 1개</td>
            <td>성수 1개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_케이틴_특제_통밀빵_1_성수_1" ></td>
          </tr>
        
          <tr class="" data-category="티르코네일">
            <td>케이틴 특제 통밀빵 10개</td>
            <td>성수 10개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_케이틴_특제_통밀빵_10_성수_10" ></td>
          </tr>
        
          <tr class="" data-category="티르코네일">
            <td>우유 10개</td>
            <td>케이틴 특제 통밀빵 3개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_우유_10_케이틴_특제_통밀빵_3" ></td>
          </tr>
        
          <tr class="" data-category="티르코네일">
            <td>양털 50개</td>
            <td>빈악보 1개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_양털_50_빈악보_1" ></td>
          </tr>
        
          <tr class="" data-category="티르코네일">
            <td>마요네즈 고기볶음 2개</td>
            <td>치명타 비약 1개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_마요네즈_고기볶음_2_치명타_비약_1" ></td>
          </tr>
        
          <tr class="" data-category="티르코네일">
            <td>강철괴 2개</td>
            <td>합금강괴 1개</td>
            <td>최대 4회</td>
            <td><input type="checkbox" id="chk_강철괴_2_합금강괴_1" ></td>
          </tr>
        
        </tbody>
      </table>
    </div>
    
    <div class="category-section" data-category="던바튼">
      <h3>🤍 던바튼</h3>
      <table>
        <thead>
          <tr>
            <th>주는 물품</th>
            <th>받는 물품</th>
            <th>제한</th>
            <th>교환</th>
          </tr>
        </thead>
        <tbody>
    
          <tr class="" data-category="던바튼">
            <td>합금강괴 2개</td>
            <td>특수강괴 1개</td>
            <td>최대 4회</td>
            <td><input type="checkbox" id="chk_합금강괴_2_특수강괴_1" ></td>
          </tr>
        
          <tr class="" data-category="던바튼">
            <td>감자샐러드 2개</td>
            <td>궁극기 비약 1개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_감자샐러드_2_궁극기_비약_1" ></td>
          </tr>
        
          <tr class="" data-category="던바튼">
            <td>생크림 4개</td>
            <td>글리니스의 애플 밀크티 1개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_생크림_4_글리니스의_애플_밀크티_1" ></td>
          </tr>
        
          <tr class="" data-category="던바튼">
            <td>애플 밀크티 3개</td>
            <td>상급 목재+ 12개</td>
            <td>최대 2회</td>
            <td><input type="checkbox" id="chk_애플_밀크티_3_상급_목재+_12" ></td>
          </tr>
        
        </tbody>
      </table>
    </div>
    
    <div class="category-section" data-category="두갈드아일">
      <h3>🤍 두갈드아일</h3>
      <table>
        <thead>
          <tr>
            <th>주는 물품</th>
            <th>받는 물품</th>
            <th>제한</th>
            <th>교환</th>
          </tr>
        </thead>
        <tbody>
    
          <tr class="" data-category="두갈드아일">
            <td>야채볶음 1개</td>
            <td>상급목재 4개</td>
            <td>최대 2회</td>
            <td><input type="checkbox" id="chk_야채볶음_1_상급목재_4" ></td>
          </tr>
        
        </tbody>
      </table>
    </div>
    
    <div class="category-section" data-category="가이레흐 언덕">
      <h3>🤍 가이레흐 언덕</h3>
      <table>
        <thead>
          <tr>
            <th>주는 물품</th>
            <th>받는 물품</th>
            <th>제한</th>
            <th>교환</th>
          </tr>
        </thead>
        <tbody>
    
          <tr class="checked-row" data-category="가이레흐 언덕">
            <td>샤와르마 1개</td>
            <td>뛰어난 붕대 5개</td>
            <td>최대 3회</td>
            <td><input type="checkbox" id="chk_샤와르마_1_뛰어난_붕대_5" checked></td>
          </tr>
        
        </tbody>
      </table>
    </div>
    
    <div class="category-section" data-category="반호르">
      <h3>🤍 반호르</h3>
      <table>
        <thead>
          <tr>
            <th>주는 물품</th>
            <th>받는 물품</th>
            <th>제한</th>
            <th>교환</th>
          </tr>
        </thead>
        <tbody>
    
          <tr class="" data-category="반호르">
            <td>콩 10개</td>
            <td>담백한 고기 15개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_콩_10_담백한_고기_15" ></td>
          </tr>
        
          <tr class="" data-category="반호르">
            <td>농어매운탕 1개</td>
            <td>은합금괴 10개</td>
            <td>매주 최대 1회</td>
            <td><input type="checkbox" id="chk_농어매운탕_1_은합금괴_10" ></td>
          </tr>
        
          <tr class="" data-category="반호르">
            <td>합금강괴 30개</td>
            <td>은합금괴 1개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_합금강괴_30_은합금괴_1" ></td>
          </tr>
        
          <tr class="" data-category="반호르">
            <td>특수강괴 3개</td>
            <td>은합금괴 1개</td>
            <td>최대 1회</td>
            <td><input type="checkbox" id="chk_특수강괴_3_은합금괴_1" ></td>
          </tr>
        
        </tbody>
      </table>
    </div>
    
  </div>

  <script>
    const checkboxes = document.querySelectorAll("input[type='checkbox']");
    const today = new Date();
    const todayStr = today.toISOString().slice(0, 10);
    const lastSaved = localStorage.getItem("lastResetDate");

    if (lastSaved !== todayStr && today.getHours() >= 6) {
      checkboxes.forEach(cb => {
        cb.checked = false;
        localStorage.setItem(cb.id, false);
        cb.closest('tr').classList.remove("checked-row");
      });
      localStorage.setItem("lastResetDate", todayStr);
    }

    checkboxes.forEach(cb => {
      const saved = localStorage.getItem(cb.id);
      cb.checked = saved === "true";
      if (cb.checked) cb.closest('tr').classList.add("checked-row");

      cb.addEventListener("change", () => {
        localStorage.setItem(cb.id, cb.checked);
        if (cb.checked) {
          cb.closest('tr').classList.add("checked-row");
        } else {
          cb.closest('tr').classList.remove("checked-row");
        }
      });
    });

    function filterCategory(category) {
      const sections = document.querySelectorAll(".category-section");
      sections.forEach(sec => {
        const secCategory = sec.getAttribute("data-category");
        if (category === "전체" || secCategory === category) {
          sec.style.display = "";
        } else {
          sec.style.display = "none";
        }
      });
      const btns = document.querySelectorAll("#categoryButtons button");
      btns.forEach(btn => btn.classList.remove("active"));
      event.target.classList.add("active");
    }
  </script>
</body>
</html>
